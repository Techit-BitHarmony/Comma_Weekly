## 팀 구성원, 개인 별 역할

---

- 조유민[팀장] - Svelte, 앨범 관련 기능 개발
- 김용욱 - Svelte, 도네이션 관련 기능 개발
- 김주연 - QA
- 조동국 - Svelte Global, 음원 재생 관련 프론트 기능 개발
- 박상혁 - Svelte, 커뮤니티 관련 기능 개발
- 문창현 - Svelte, 회원 관련 기능 개발

## 팀 내부 회의 진행 회차 및 일자
1. 1회차(2024.02.06) 디스코드 진행
- PR을 통한 코드 리뷰 진행 및 기능 관련 회의 진행
3. 2회차(2024.02.07) 디스코드 진행
- PR을 통한 코드 리뷰 및 리펙토링 진행 및 강사님 피드백을 통해 기술적 토의 진행
---

## 현재까지 개발 과정 요약 (최소 500자 이상)
1. 각자 담당한 도메인 개발 진행
   - 각자 담당한 도메인 별로 WBS 및 요구사항 명세서에 따라 개발 진행
   - 이때 개발에서 발생할 것 같은 문제들은 Notion을 통해서 변경사항 알림 페이지를 통해 미리 작성
   - (Global 및 Yml 파일 등 글로벌하게 사용되는 파일들 또는 추후에 병합 시 고려해야 할 문제점 등 )

#### 조유민
- Album에 들어가는 Response 기능 수정
- Svelte Kit을 활용해 프론트 작업 시작 ( 앨범 등록, 앨범 수정 )
  - 앨범 등록 파일의 경우 Streaming과 협업해 진행 ( File 업로드 후 Url을 Form에 저장해서 넘김 )
  - 앨범 이미지도 동일하게 해야 했으나 아쉽지만 Form에 MultipartFile로 넘기기로 함
  - 앨범 수정의 경우 해당 번호로 Get을 통해서 가져온 후 수정될 예정
#### 김용욱
- 정기후원 취소, 변경 기능 추가
- 정기후원이 스케줄러에 등록되고 나서 실행이 될 때 의존성 주입이 되지 않는 오류 수정
- 정기후원 관련 코드 리팩토링
#### 박상혁
- 토스페이먼츠 결제 기능 타임리프에서 스벨트로 변경 및 작동 테스트
- 크레딧 관련 프론트 페이지 작업
- API 요청시 Header에 accessToken 값을 포함하여 인증, 권한 문제 해결
#### 조동국
- SSE 방식을 이용한 프론트에서의 이벤트 상태처리 기능 테스트
- 코드 리팩토링 (불필요한 코드 및 부적절한 필드명 변경, CustomException 위치 수정 등)
- 음악 파일 삭제 기능 구현
- 프론트엔드 프로젝트 설정
    - 의존성 다운로드 및 템플릿 적용 (+ 전체 CSS 수정)
    - 로그인 / 로그아웃 기능 구현
    - 기본 페이지 구현 (Album List 구현)
#### 문창현
- 프론트엔드 회원 기능 개발
  - 회원가입 , 정보수정, 토근 등 구현
---
## 개발 과정에서 나왔던 질문 (최소 200자 이상)
- 앨범 이미지의 미리보기는 어떻게 해야 하는가?
  - 앨범 이미지의 경우도 Streaming처럼 업로드 했어야 했다.
  - 아니면 Svelte의 Cut을 활용해 하는 방법도 있으나 ncp의 경우는 자동적 및 특정 부위를 알아서 잘라주기 때문에 미리보기가 달라질 가능성이 있다.
  - 따라서 ncp로 업로드 후 미리보기를 가져왔어야 했다.
  - 하지만 이 경우 ncp에 업로드된 이미지는 어떻게 해야 하는가? 삭제를 해야 할까?
- 앨범 수정의 경우는 svelte에서 어떻게 가져와야 할까?
  - Svelte로 들어오는 id를 서버로 Get을 보내 Response로 수정이 되게 할까?
  - 아니면 Detail에서 수정버튼을 누르면 해당 Detail값을 가져올 수 있도록 할까?
- 앨범에서 음악 파일 업로드는 어떻게 해야 할까?
  - Streaming과 협업해서 서버로 파일 Path를 보내고 Url을 가져오는 형태로 진행
  - 음악 파일의 확장자는 프론트에서 걸러진다.
  - 업로드 실패시 앨범 등록은 불가능
- 스케줄러가 특정 job을 실행 시킬 때 의존성을 주입하는 과정, 단계
- job에 의존성을 주입할 때 quartz에서 제공하는 spring bean job factory를 상속받아 따로 설정을 해줌으로서 필드 주입 방식은 작동하는데 생성자 주입 방식은 왜 작동하지 않는가?
- 결제 페이지 진입시 결제 정보를 서버로부터 받아오지만 결제 모듈에서 인식하지 못함
    - 결제 모듈을 컴포넌트로 만들어 값을 초기화한 이후 실행되도록 변경
- Local Storage의 accessToken 값으로는 인증이 되지만 Cookie의 accessToken값으로 인증시 401 Error 발생
    - cookie에서 accessToken 값을 불러온 경우 앞에 ‘accessToekn=’이 붙어 서버에서 이 값을 포함하여 인증 시도. split(”=”)[1]로 값 저장하여 해결
- SSE 이벤트의 처리 방식
    - 클라이언트에서 요청을 보내면, 서버에서는 SseEmitter를 전달해주고 이를 클라이언트가 가지고 있음으로써 데이터를 전달받을 준비를 한다.
    - 이후 이벤트 발생 시 해당 SseEmitter를 통해서 이벤트를 전달하고, 이벤트 내용을 읽어와 클라이언트에서 처리하면 된다.
---
## 개발 결과물 공유
---
- Github Repository URL: https://github.com/Techit-BitHarmony/Comma
- Notion : https://www.notion.so/9-4ee8e96c7a2d4c79ba7799897a1f1352
- Trello : https://trello.com/invite/b/E1ayx7TG/ATTI479a7a496bf7cc3fb60944c256cac1803778C523/9th-ideaboard
